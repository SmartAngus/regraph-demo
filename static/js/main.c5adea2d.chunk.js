(this["webpackJsonpregraph-demo"]=this["webpackJsonpregraph-demo"]||[]).push([[0],{269:function(e,t,n){e.exports=n(535)},278:function(e,t,n){},326:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},521:function(e,t,n){},522:function(e,t,n){},530:function(e,t,n){},531:function(e,t,n){},532:function(e,t,n){},533:function(e,t,n){},535:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n(5),c=n(102),i=(n(274),n(4)),s=n(542),l=n(544),d=n(47),u=n(36),m=n.n(u),f=n(78),g=n(11),b=n(14),v=n(2),p=n(133),h=n(28),S=n.n(h),y=n(543),N=n(3),x=n(98);!function(e){e.common="common"}(a||(a={}));var z,C=Object(x.a)({},a.common,"\u901a\u7528");!function(e){e.mainOutput="mainOutput",e.errorOutput="errorOutput"}(z||(z={}));var k;!function(e){e.rect="rect",e.rectRadius="rectRadius",e.circle="circle",e.diamond="diamond",e.polygon="polygon",e.ellipse="ellipse",e.star="star"}(k||(k={}));var E=[{type:a.common,key:k.rect,name:"RECT",width:100,height:100,icon:r.createElement("div",{style:{width:36,height:36,border:"2px solid #52619b"}}),disabled:!1},{type:a.common,key:k.rectRadius,name:"RECT-RADIU",width:100,height:100,icon:r.createElement("div",{style:{width:36,height:36,border:"2px solid #52619b",borderRadius:10}}),disabled:!1},{type:a.common,key:k.circle,name:"CIRCLE",width:100,height:100,icon:r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"72px",height:"40px"},r.createElement("circle",{cx:"36",cy:"20",r:"18",stroke:"#52619b",strokeWidth:"2",fill:"transparent"})),disabled:!1}],w=Object(x.a)({},a.common,E);var I;!function(e){e.copy="copy",e.delete="delete"}(I||(I={}));n(278);var L=r.useState,O=(r.useEffect,y.a.Panel);function M(e){var t=Object.values(a),n=e.onDrag,o=e.visible,c=void 0!==o&&o,s=L([t[0]]),l=Object(i.a)(s,2),d=l[0],u=l[1],m=S()("nodePanel-box",{"nodePanel-box-visible":c}),f=function(e){n&&n(e)};return r.createElement("div",{className:"nodePanel"},r.createElement("div",{className:m},r.createElement("div",{className:"nodePanel-box-collapse"},r.createElement(y.a,{activeKey:d,onChange:function(e){u(e)},bordered:!0,accordion:!0},t.map((function(e){var t=w[e].length;return r.createElement(O,{key:e,header:r.createElement("div",{className:"collapse-title"},"".concat(C[e]," (").concat(t,")"))},r.createElement("div",{className:"components-box"},w[e].map((function(e){var t=S()("components-box-item",{"components-box-item-disabled no-drop":e.disabled});return r.createElement("div",{className:t,key:e.key,draggable:!0,onDrag:f.bind(null,e)},r.createElement("div",{className:"components-box-item-icon"},e.icon))}))))}))))))}var D=n(263),j=n(49);function R(){var e=document;return e.fullscreenElement||e.webkitFullscreenElement}n(326);var P=r.forwardRef((function(e,t){var n=e.screenScale,a=e.changeScreenScale,o=e.handleResizeTo,c=e.items,i=e.onShear,s=e.onCopy,l=e.onPaste,d=e.onDelete,u=e.onDragSelect,m=e.onSave,f=e.onLayout,g=e.onAdapt,b=String(Math.round(n)),v=c.includes("save"),p=c.includes("fullscreen"),h=c.includes("zoom"),y=c.includes("adapt"),N=(c.includes("format"),c.includes("shear")),x=c.includes("copy"),z=c.includes("paste"),C=c.includes("delete"),k=c.includes("dragSelect"),E=c.includes("layout"),w=R(),I=function(e){var t=n;e?(t=n+10)>200&&(t=200):(t=n-10)<50&&(t=50),o(t/100),a(t)},L=function(){var e;R()?document.exitFullscreen||document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(e=t.current).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()};return r.createElement("div",{className:"toolbar"},r.createElement("div",{className:"toolbar-scale"},b,"%"),r.createElement("div",{className:"toolbar-button"},function(){var e=S()({fullscreen:!w,"fullscreen-exit":w});return r.createElement(r.Fragment,null,h&&r.createElement(r.Fragment,null,r.createElement("div",{className:"toolbar-btn"},r.createElement(D.a,{title:"\u7f29\u5c0f"},r.createElement(j.a,{type:"zoom-in",onClick:I.bind(null,!0)}))),r.createElement("div",{className:"toolbar-btn"},r.createElement(D.a,{title:"\u653e\u5927"},r.createElement(j.a,{type:"zoom-out",onClick:I.bind(null,!1)})))),v&&r.createElement("div",{className:"toolbar-btn"},r.createElement(D.a,{title:"\u4fdd\u5b58"},r.createElement(j.a,{type:"save",onClick:m}))),p&&r.createElement("div",{className:"toolbar-btn"},r.createElement(D.a,{title:"\u5168\u5c4f"},r.createElement(j.a,{type:e,onClick:L}))),N&&r.createElement("div",{className:"toolbar-btn"},r.createElement(D.a,{title:"\u526a\u5207"},r.createElement(j.a,{type:"scissor",onClick:i}))),x&&r.createElement("div",{className:"toolbar-btn"},r.createElement(D.a,{title:"\u590d\u5236"},r.createElement(j.a,{type:"copy",onClick:s}))),z&&r.createElement("div",{className:"toolbar-btn"},r.createElement(D.a,{title:"\u7c98\u8d34"},r.createElement(j.a,{type:"snippets",onClick:l}))),C&&r.createElement("div",{className:"toolbar-btn"},r.createElement(D.a,{title:"\u5220\u9664"},r.createElement(j.a,{type:"delete",onClick:d}))),k&&r.createElement("div",{className:"toolbar-btn"},r.createElement(D.a,{title:"\u5708\u9009"},r.createElement(j.a,{type:"gateway",onClick:u}))),y&&r.createElement("div",{className:"toolbar-btn"},r.createElement(D.a,{title:"\u9002\u5e94\u753b\u5e03"},r.createElement(j.a,{type:"border-outer",onClick:g}))),E&&r.createElement("div",{className:"toolbar-btn"},r.createElement(D.a,{title:"\u683c\u5f0f\u5316"},r.createElement(j.a,{type:"layout",onClick:f}))))}()))}));n(329);function T(e){var t=e.id,n=e.style,a=e.onContextMenu,o=e.onClick,c=e.object,i=e.lineAppendWidth,s=e.path,l=e.startArrow,d=e.endArrow,u=n.fill,m="";"boolean"===typeof l?l&&(m="url(#flow-startArrow)"):r.isValidElement(l)&&(m="url(#".concat(l.props.id,")"));var f="";return"boolean"===typeof d?l&&(f="url(#flow-startArrow)"):r.isValidElement(d)&&(f="url(#".concat(d.props.id,")")),r.createElement("g",{key:"".concat(t).concat("_"),className:"editor-link"},r.createElement("defs",null,r.isValidElement(l)?r.cloneElement(l):r.createElement("marker",{id:"flow-startArrow",markerWidth:"10",markerHeight:"10",refX:"0",refY:"2",orient:"auto",markerUnits:"strokeWidth"},r.createElement("path",{d:"M0,0 L0,4 L4,2 z",fill:u}))),r.createElement("defs",null,r.isValidElement(d)?r.cloneElement(d):r.createElement("marker",{id:"flow-endArrow",markerWidth:"10",markerHeight:"10",refX:"0",refY:"2",orient:"auto",markerUnits:"strokeWidth"},r.createElement("path",{d:"M0,0 L0,4 L4,2 z",fill:u}))),r.createElement("path",{key:t,className:"editor-link-path",stroke:v.get(n,"stroke",""),strokeWidth:v.get(n,"strokeWidth",0),d:s,markerStart:m,markerEnd:f}),r.createElement("path",{key:"".concat(t,"-background"),className:"editor-link-path editor-link-path-background",style:{strokeWidth:i},d:s,onContextMenu:a,onClick:o}),r.createElement("g",null,c))}n(330);var W=r.useRef,A=r.useState,F=r.useEffect;r.useCallback;var B=r.forwardRef((function(e,t){var n=e.x,a=e.y,o=e.id,c=e.onClick,s=e.onContextMenu,l=e.children,d=e.currTrans,u=e.width,m=e.height,f=e.isSelected,g=e.onResize,b=A(!1),v=Object(i.a)(b,2),p=v[0],h=v[1],S=W(null),y=function(e,t){var n=t.width,a=t.height,o=t.x,c=t.y,s=Object(r.useState)(n),l=Object(i.a)(s,2),d=l[0],u=l[1],m=Object(r.useState)(a),f=Object(i.a)(m,2),g=f[0],b=f[1],v=Object(r.useState)(o),p=Object(i.a)(v,2),h=p[0],S=p[1],y=Object(r.useState)(c),N=Object(i.a)(y,2),x=N[0],z=N[1];return Object(r.useEffect)((function(){S(o),z(c)}),[o,c]),Object(r.useEffect)((function(){var t=document.querySelectorAll(".resizer"),r=document.querySelector(".resizable"),o=0,c=0,i=0,s=0;if(e)for(var l=function(e){var l=t[e];l.addEventListener("mousedown",(function(e){e.preventDefault(),o=parseFloat(getComputedStyle(r,null).getPropertyValue("width").replace("px","")),c=parseFloat(getComputedStyle(r,null).getPropertyValue("height").replace("px","")),r.getBoundingClientRect().left,r.getBoundingClientRect().top,i=e.pageX,s=e.pageY,window.addEventListener("mousemove",d),window.addEventListener("mouseup",m)}));var d=function(e){var t=0,r=0;l.classList.contains("bottom-right")?(t=o+(e.pageX-i),r=c+(e.pageY-s),t>20&&u(t),r>20&&b(r)):l.classList.contains("bottom-left")?(t=o-(e.pageX-i),r=c+(e.pageY-s),t>20&&(u(t),S(h+(e.pageX-i))),r>20&&b(r)):l.classList.contains("top-right")?(t=o+(e.pageX-i),r=c-(e.pageY-s),t>20&&u(t),r>20&&(b(r),z(x+(e.pageY-s)))):(t=o-(e.pageX-i),r=c-(e.pageY-s),n>20&&(u(t),S(h+(e.pageX-i))),a>20&&(b(r),z(x+(e.pageY-s))))},m=function(){window.removeEventListener("mousemove",d)}},d=0;d<t.length;d++)l(d)}),[e,d,g,b,u,x,h,z,S]),{width:d,height:g,x:h,y:x}}(f,{width:u,height:m,x:n,y:a}),N=y.width,x=y.height,z=y.x,C=y.y,k=[{position:"left",style:{left:"-5px",top:"".concat(m/2-5,"px")}},{position:"right",style:{right:"-5px",top:"".concat(m/2-5,"px")}},{position:"top",style:{left:"".concat(u/2-5,"px"),top:"-5px"}},{position:"bottom",style:{left:"".concat(u/2-5,"px"),top:"".concat(m-5,"px")}}],E=r.createElement("div",{className:"resizable"},r.createElement("div",{className:"resizers"},["top-left","top-right","bottom-left","bottom-right"].map((function(e){return r.createElement("div",{key:e,className:"resizer ".concat(e),"data-type":"resize"})})))),w=r.createElement("div",{className:"editor-node-selector",style:{width:u,height:m}},k.map((function(e){return r.createElement("a",{"data-type":"edge","data-position":e.position,key:e.position,className:"node-selector",style:e.style})})));return F((function(){g(N,x,z,C)}),[N,x,z,C]),r.createElement("div",{className:"editor-node",style:{left:n,top:a,width:u,height:m},ref:t,onClick:c,onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},onContextMenu:function(e){e.preventDefault(),e.stopPropagation();var t=S.current.getBoundingClientRect();t.id=o;var r=function(e){for(var t=0,n=0,a=e;a!==window.document.body&&null!=a;)n+=a.offsetLeft,t+=a.offsetTop,a=a.offsetParent;return{offsetTop:t,offsetLeft:n}}(t.current),c=r.offsetTop,i=r.offsetLeft,l=e.clientX-i,u=e.clientY-c,m=(l-n)/d.k,f=(u-a)/d.k;s&&s({left:m,top:f},e)}},(f||p)&&w,f&&E,r.cloneElement(l,{ref:S}))}));var V=function(e,t){var n=X(),a=e.x*n,r=t.x*n,o=(a+r)/2,c=(e.y+t.y)/2,i=30,s=t.y-e.y;return s>-100&&s<100&&(i=Math.max(Math.abs(t.y-e.y)/2,20)),["M",a,e.y,"Q",a+i,e.y,o,c,"T",r-6,t.y-2].join(" ")};function X(){var e=window.outerWidth/window.innerWidth,t=window.screen,n=navigator.userAgent.toLowerCase();void 0!==window.devicePixelRatio?e=/macintosh|mac os x/i.test(n)?window.outerWidth/window.innerWidth:window.devicePixelRatio:n.indexOf("msie")>-1?t.deviceXDPI&&t.logicalXDPI&&(e=t.deviceXDPI/t.logicalXDPI):void 0!==window.outerWidth&&void 0!==window.innerWidth&&(e=window.outerWidth/window.innerWidth);return e&&(e=Math.round(100*e)/100),e}function U(e,t){var n=(null===e||void 0===e?void 0:e.x)+(null===e||void 0===e?void 0:e.width),a=(null===e||void 0===e?void 0:e.y)+(null===e||void 0===e?void 0:e.height)/2;return"left"===t?(n=null===e||void 0===e?void 0:e.x,a=(null===e||void 0===e?void 0:e.y)+(null===e||void 0===e?void 0:e.height)/2):"right"===t?(n=(null===e||void 0===e?void 0:e.x)+(null===e||void 0===e?void 0:e.width),a=(null===e||void 0===e?void 0:e.y)+(null===e||void 0===e?void 0:e.height)/2):"top"===t?(n=(null===e||void 0===e?void 0:e.x)+(null===e||void 0===e?void 0:e.width)/2,a=null===e||void 0===e?void 0:e.y):"bottom"===t&&(n=(null===e||void 0===e?void 0:e.x)+(null===e||void 0===e?void 0:e.width)/2,a=(null===e||void 0===e?void 0:e.y)+(null===e||void 0===e?void 0:e.height)),{x:n,y:a}}var q=r.useCallback,H=r.useEffect,Y=r.useState,K=r.useRef,G={x:0,y:0,width:0,height:0,direction:"left"};n(331);var J=r.useRef,Z=r.useCallback,_=r.useMemo;function Q(e){var t=e.overlayColor,n=e.selectorStyle,a=e.visible,o=e.onClose,c=e.getPopupContainer,s=J(null),l=function(e,t){var n=Y(G),a=Object(i.a)(n,2),r=a[0],o=a[1],c=Y(""),s=Object(i.a)(c,2),l=s[0],d=s[1],u=K(0),m=K(0),f=q((function(e){var n=e.layerX,a=e.layerY,r=Math.abs(n-u.current),c=Math.abs(a-m.current),i=n-u.current,s={x:u.current,y:m.current,width:r,height:c,direction:i<0?"right":"left"},l=function(e,t){var n=t.x,a=t.y,r=t.width,o=t.height,c=t.direction,i="";return"rect"===e&&(i="M".concat(n," ").concat(a," h ").concat(r," v ").concat(o," h -").concat(r," Z"),"right"===c&&(i="M".concat(n," ").concat(a," h -").concat(r," v -").concat(o," h ").concat(r," Z"))),i}(t,s);d(l),o(s)}),[o,t]),g=q((function(t){t.stopPropagation(),d(""),u.current=0,m.current=0,e.current.removeEventListener("mousemove",f)}),[e,f]),b=q((function(t){t.stopPropagation(),u.current=t.layerX,m.current=t.layerY,e.current.addEventListener("mousemove",f),e.current.addEventListener("mouseup",g)}),[e,f,g]);return H((function(){var t=e.current;return t.addEventListener("mousedown",b),function(){t.removeEventListener("mousedown",b)}}),[e,b]),{shapeProps:r,pathData:l}}(s,"rect"),d=l.shapeProps,u=l.pathData,m=Z((function(e){e.stopPropagation(),e.preventDefault(),o&&o(d)}),[o,d]);return _((function(){var e,o=S()("drag-select-container",{"drag-select-hidden":!a}),i=c(),l=function(e){if(!e)return 0;var t=window.getComputedStyle(e);return e.getBoundingClientRect().width+Number(t.marginLeft.match(/\d+/g))+Number(t.marginRight.match(/\d+/g))}(i),d=function(e){if(!e)return 0;var t=window.getComputedStyle(e);return e.getBoundingClientRect().height+Number(t.marginTop.match(/\d+/g))+Number(t.marginBottom.match(/\d+/g))}(i),f=(e=i)?{x:e.getBoundingClientRect().x,y:e.getBoundingClientRect().y}:0;return r.createElement("svg",{ref:s,className:o,width:l,height:d,style:{background:t,left:null===f||void 0===f?void 0:f.x,top:null===f||void 0===f?void 0:f.y},xmlns:"http://www.w3.org/2000/svg",onDrag:function(e){e.preventDefault()},onClick:m},r.createElement("g",null,r.createElement("path",{d:u,style:Object(b.a)({},n)})))}),[t,m,n,a,u])}var $=n(80),ee=n(84),te=n(81),ne=n(134),ae=n(85),re=n(86),oe=n(101),ce=(n(521),function(e){var t=e.id,n=e.visible,a=e.left,o=e.top,c=e.children;return r.createElement("div",{id:t?"context-menu-".concat(t):"context-menu",style:{display:n?"block":"none",left:a,top:o},className:"contextMenu-layer"},r.createElement("div",{className:"contextMenu"},c))});function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click",a=Object(r.useRef)(),o=Object(r.useCallback)((function(n){var r=("function"===typeof t?t():t)||a.current;r&&!r.contains(n.target)&&e(n)}),[a.current,e,t]);return Object(r.useEffect)((function(){return document.addEventListener(n,o),function(){document.removeEventListener(n,o)}}),[n,o]),a}n(522);var se=r.useState,le=r.useRef,de=(r.useMemo,r.useCallback);function ue(e){var t=e.currentNode,n=e.onSelect,a=e.isSelected,o=e.isDragged,c=e.onClick,s=e.interactive,d=void 0===s||s,u=e.currTrans,m=e.nodeRef,f=e.onResize,g=(e.showSelector,e.id,se(!1)),b=Object(i.a)(g,2),v=b[0],p=b[1],h=se({left:0,top:0}),y=Object(i.a)(h,2),N=y[0],x=y[1];ie((function(){p(!1)}),(function(){return document.querySelector(".editorNode-box-menu")}),"contextmenu");var z=ie((function(){p(!1)})),C=le(null),k="";k=a?"selected ".concat(t.key,"-clicked ").concat(t.key,"-border"):"".concat(t.key,"-border");var E="circle"===t.key,w="rectRadius"===t.key,L="diamond"===t.key,O=S()("editorNode-box",k,{dragging:o},{"editorNode-circle":E},{"editorNode-rectRadius":w}),M=[{name:"\u5220\u9664",key:I.delete,disabled:!1}],D=function(e){var a=e.key;n(t,a),p(!1)},j=de((function(e){d&&c&&c(t,e)}),[d,c,t]);return r.createElement(B,{id:t.id,x:t.x,y:t.y,width:t.width,height:t.height,currTrans:u,ref:m,isSelected:a,onClick:j,onResize:f,onContextMenu:d?function(t,n){n.stopPropagation(),n.preventDefault();var a={left:t.left,top:t.top};x(a),p(!0),e.onContextMenu&&e.onContextMenu(n)}:null},r.createElement("div",{className:"editorNode",ref:C},r.createElement("div",{className:O,style:{transform:L?"rotateZ(45deg) skew(30deg,30deg)":"none"}},r.createElement("div",{className:"editorNode-box-property"},r.createElement("div",{className:"editorNode-name"},t.name)),r.createElement("div",{className:"editorNode-box-menu",ref:z},r.createElement(ce,{id:t.id,visible:v,left:N.left,top:N.top},r.createElement(l.a,{getPopupContainer:function(e){return e.parentNode}},M.map((function(e){return r.createElement(l.a.Item,{key:e.key,onClick:D},e.name)}))))))))}n(530);function me(e){var t=e.links,n=e.nodes,a=e.selectedLinks,o=e.onSelectLink,c=e.onContextMenu,i=e.isDraggingLink,s=e.dragLink,l=e.interactive,d=void 0===l||l,u=t.map((function(e){var t=e.source,i=e.target,s=e.id,l=e.sourcePos,u=e.targetPos,m=v.find(n,(function(e){return e.id===t})),f=v.find(n,(function(e){return e.id===i})),g=U(m,l),b=g.x,p=g.y,h=U(f,u),S=h.x,y=h.y,N=V({x:b,y:p},{x:S,y:y}),x=!!a&&a.includes(s)?"#92ade3":"#b4bdcf",z={fill:x,stroke:x,strokeWidth:2};return r.createElement(T,{key:s,id:s,path:N,lineAppendWidth:15,style:z,onContextMenu:d?c.bind(null,s):null,onClick:d?o.bind(null,s):null,endArrow:r.createElement("marker",{id:"".concat(s,"-endArrow"),markerWidth:"10",markerHeight:"10",refX:"0",refY:"2",orient:"auto",markerUnits:"strokeWidth"},r.createElement("path",{d:"M0,0 L0,4 L4,2 z",fill:x}))})}));return r.createElement("svg",{className:"editor-view-svg"},t&&u,d&&function(){if(i){var e=s.x,t=s.y,n=s.originX,a=s.originY,o=V({x:n,y:a},{x:e,y:t});return r.createElement(T,{path:o,endArrow:r.createElement("marker",{id:"".concat("#52619b","-endArrow"),markerWidth:"10",markerHeight:"10",refX:"0",refY:"2",orient:"auto",markerUnits:"strokeWidth"},r.createElement("path",{d:"M0,0 L0,4 L4,2 z",fill:"#52619b"})),style:{fill:"#52619b",stroke:"#52619b",strokeWidth:2}})}return null}())}var fe=function(e,t,n){var a=null,r=1/0,o="";return t.forEach((function(t){var n=1/0;["left","right","top","bottom"].forEach((function(c){var i,s;"left"===c?(i=t.x,s=t.y+t.height/2):"right"===c?(i=t.x+t.width,s=t.y+t.height/2):"top"===c?(i=t.x+t.width/2,s=t.y):"bottom"===c&&(i=t.x+t.width/2,s=t.y+t.height),n=function(e,t){var n=e.x-t.x,a=e.y-t.y;return Math.sqrt(n*n+a*a)}({x:e.x,y:e.y},{x:i,y:s}),r>n&&(r=n,a=t,o=c)}))})),r<=n?{targetNode:a,targetPos:o}:null};function ge(e){for(var t=0,n=0,a=e;a!==window.document.body&&null!=a;)n+=a.offsetLeft,t+=a.offsetTop,a=a.offsetParent;return{offsetTop:t,offsetLeft:n}}var be=function(e){function t(e){var n;return Object(N.a)(this,t),(n=Object(ee.a)(this,Object(te.a)(t).call(this,e))).nodesContainerRef=void 0,n.container=void 0,n.screenWidth=void 0,n.screenHeight=void 0,n.handleApplyTransform=void 0,n.handleResize=void 0,n.handleAdapt=void 0,n.handleResizeTo=void 0,n.openContainerMenu=function(e){e.preventDefault()},n.toggleDragNode=function(e){e?(window.addEventListener("mousemove",n.onDragNodeMouseMove),window.addEventListener("mouseup",n.onDragNodeMouseUp)):(window.removeEventListener("mousemove",n.onDragNodeMouseMove),window.removeEventListener("mouseup",n.onDragNodeMouseUp))},n.toggleDragLink=function(e){e?(window.addEventListener("mousemove",n.onDragLinkMouseMove),window.addEventListener("mouseup",n.onDragLinkMouseUp)):(window.removeEventListener("mousemove",n.onDragLinkMouseMove),window.removeEventListener("mouseup",n.onDragLinkMouseUp))},n.onDragLinkMouseMove=function(e){e.stopPropagation(),e.preventDefault();var t=ge(n.container.current),a=t.offsetTop,r=t.offsetLeft,o=e.clientX-r,c=e.clientY-a,i=n.props.currTrans,s=i.k,l=i.x,d=i.y;n.setState((function(e){var t=e.dragLink;return{dragLink:Object(b.a)({},t,{x:(o-l)/s,y:(c-d)/s})}}))},n.onNodesContainerMouseDown=function(e){e.stopPropagation();var t=n.props.nodes;if(t&&t.length>0){var a=v.find(t,(function(t){return!(!t.ref||!t.ref.current)&&t.ref.current.contains(e.target)})),r=e.target.dataset&&e.target.dataset.type,o=e.target.dataset&&e.target.dataset.position;if(a){if("edge"===r&&o)return void n.onDragLinkMouseDown(a,o);if("resize"===r)return;n.onDragNodeMouseDown(a,e)}}},n.onContainerMouseDown=function(e){var t=e.path;n.hasNodeOrLink(t,"editor-node","editor-link")||n.handleClearActive()},n.onNodesContainerMouseMove=function(e){e.preventDefault();var t=e.path,a=n.hasNodeOrLink(t,"editor-node","editor-link"),r=n.props.nodes;if(r&&r.length>0){var o=v.find(r,(function(t){return!(!t.ref||!t.ref.current)&&t.ref.current.contains(e.target)}));o&&(a?n.setState({currentHoverNode:o.id}):n.setState({currentHoverNode:""}))}},n.onDragNodeMouseDown=function(e,t){var a=n.props.currTrans,r=a.k,o=a.x,c=a.y,i=ge(n.container.current),s=i.offsetTop,l=i.offsetLeft,d=t.clientX-l,u=t.clientY-s;n.setState((function(t){return{isDraggingNode:!0,dragNode:e,dragNodeOffset:{x:(d-o)/r-e.x,y:(u-c)/r-e.y}}}))},n.onDragLinkMouseDown=function(e,t){var a=U(e,t),r=a.x,o=a.y;n.setState({isDraggingLink:!0,dragLink:{originId:e.id,originX:r,originY:o,x:r,y:o},sourcePos:t})},n.onDragLinkMouseUp=function(e){var t=n.props,a=t.setLinks,r=t.links,o=t.nodes,c=n.state.dragLink,i=ge(n.container.current),s=i.offsetTop,l=i.offsetLeft,d=e.clientX-l,u=e.clientY-s,m=n.props.currTrans,f=m.k,b=m.x,v=m.y,p=fe({x:(d-b)/f,y:(u-v)/f},o,30);if(p){var h=p.targetNode,S=p.targetPos,y={id:c.originId+"_"+h.id+"_"+S,source:c.originId,target:h.id,sourcePos:n.state.sourcePos,targetPos:S};a([].concat(Object(g.a)(r),[y]))}n.setState({isDraggingLink:!1,dragLink:null,sourcePos:""})},n.onDragNodeMouseMove=function(e){e.preventDefault(),e.stopPropagation();var t=n.props,a=t.setNodes,r=t.nodes,o=n.props.currTrans,c=o.k,i=o.x,s=o.y,l=ge(n.container.current),d=l.offsetTop,u=l.offsetLeft,m=e.clientX-u,f=e.clientY-d;n.setState((function(e){var t=e.dragNode,n=e.dragNodeOffset,a=(m-i)/c-n.x,r=(f-s)/c-n.y;return Object(b.a)({},e,{dragNode:Object(b.a)({},t,{x:a,y:r})})}));var g=n.state,v=g.dragNodeOffset,p=g.dragNode;a(r.map((function(e){return e.id===p.id?Object(b.a)({},e,{x:(m-i)/c-v.x,y:(f-s)/c-v.y}):e})))},n.onDragNodeMouseUp=function(e){e.stopPropagation(),n.setState((function(e){e.dragNode;return Object(b.a)({},e)})),n.setState({isDraggingNode:!1})},n.getTransformInfo=function(e){n.props.setCurrTrans(e)},n.getScreenHandler=function(e){n.handleApplyTransform=e.handleApplyTransform,n.handleResize=e.handleResize,n.handleResizeTo=e.handleResizeTo,n.handleAdapt=e.handleAdapt,n.screenWidth=e.screenWidth,n.screenHeight=e.screenHeight},n.handleClearActive=function(){n.props.setSelectedLinks([]),n.props.setSelectedNodes([])},n.hasNodeOrLink=function(e,t,n){for(var a=!1,r=0;r<e.length;r++){var o=v.includes(e[r].classList,t),c=v.includes(e[r].classList,n);if(o||c){a=!0;break}}return a},n.changeScreenScale=function(e){n.setState({screenScale:e})},n.handleFullScreen=function(){var e;(function(){var e=document;return e.fullscreenElement||e.webkitFullscreenElement})()?document.exitFullscreen||document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(e=n.container.current).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},n.handleShowAll=function(){var e,t,a,r,o=n.props.nodes;if(!o||0!==o.length){var c=v.minBy(o,(function(e){return e.x})).x,i=(null===(e=v.maxBy(o,(function(e){return e.x})))||void 0===e?void 0:e.x)+(null===(t=v.maxBy(o,(function(e){return e.x})))||void 0===t?void 0:t.width),s=v.minBy(o,(function(e){return e.y})).y,l=(null===(a=v.maxBy(o,(function(e){return e.y})))||void 0===a?void 0:a.y)+(null===(r=v.maxBy(o,(function(e){return e.y})))||void 0===r?void 0:r.height),d=i-c,u=l-s,m=n.screenWidth/2-(c+i)/2,f=n.screenHeight/2-(s+l)/2,g=oe.a.translate(m,f).scale(1),b=Math.min(n.screenWidth/d,n.screenHeight/u,1),p=[n.screenWidth/2,n.screenHeight/2],h=g.invert(p),S=oe.a.translate(p[0]-h[0]*b,p[1]-h[1]*b).scale(b);n.handleApplyTransform(S)}},n.layout=function(){var e,t,a=n.props,r=a.nodes,o=a.links,c=a.setNodes;if(r&&0===r.length)return{nodes:r,screen:{k:1,x:0,y:0}};var i=r.map((function(e){e.nodeWidth=e.width,e.nodeHeight=e.height;var t=o.filter((function(t){return t.target===e.id})).map((function(e){return{sourceId:e.source,targetId:e.target}})),n=o.filter((function(t){return t.source===e.id})).map((function(e){return{sourceId:e.source,targetId:e.target}}));return{id:e.id,downRelations:t,upRelations:n}})),s=null===(e=v.maxBy(r,(function(e){return e.width})))||void 0===e?void 0:e.width,l=null===(t=v.maxBy(r,(function(e){return e.height})))||void 0===t?void 0:t.height,d=new re.BaseLayout.DAG({isTransverse:!0,padding:20,margin:{left:0,right:0,top:0,bottom:0},defaultNodeWidth:s,defaultNodeHeight:l}).getMultiDAG(i).nodes;c(r.map((function(e){var t=v.find(d,(function(t){return t.id===e.id}));return Object(b.a)({},e,{x:t.view.x,y:t.view.y})})))},n.onSelectLink=function(e){var t=n.props,a=t.selectedLinks,r=t.setSelectedLinks;if(a){var o=v.findIndex(a,(function(t){return t===e}));r(o>-1?[].concat(Object(g.a)(a.slice(0,o)),Object(g.a)(a.slice(o+1))):[].concat(Object(g.a)(a),[e]))}else r([e])},n.onClickNode=function(e){var t=n.props,a=t.selectedNodes,r=t.setSelectedNodes,o=t.setSelectedLinks;if(t.isKeyPressing)if(a){var c=v.findIndex(a,(function(t){return t===e.id}));r(c>-1?[].concat(Object(g.a)(a.slice(0,c)),Object(g.a)(a.slice(c+1))):v.compact([].concat(Object(g.a)(a),[e.id])))}else r([e.id]);else r([e.id]),o(null)},n.onSelectNode=function(e,t){var a=n.props,r=a.selectedNodes,o=a.deleteNodes;t===I.delete&&(r&&r.includes(e.id)?o(v.compact([].concat(Object(g.a)(r),[e.id]))):o([e.id]))},n.onContextMenuLink=function(e,t){t.preventDefault(),t.stopPropagation(),n.props.setSelectedLinks([e]),n.props.setSelectedNodes(null);var a={x:t.clientX,y:t.clientY};n.setState({deleteVisible:!0,menuPos:a})},n.onResize=function(e,t,a,r,o){(0,n.props.updateNodes)(Object(b.a)({},e,{width:t,height:a,x:r,y:o}))},n.renderCanvas=function(){var e=n.state.currentHoverNode,t=n.props,a=t.nodes,o=t.links,c=t.selectedNodes,i=t.selectedLinks;return r.createElement("div",{className:"editor-view"},r.createElement("div",{className:"editor-view-content",ref:n.nodesContainerRef},a.map((function(t){var a=t.id,o=!!c&&c.includes(a),i=o||e===a;return r.createElement(ue,{nodeRef:t.ref,currentNode:t,key:a,onClick:n.onClickNode,isSelected:o,showSelector:i,onResize:n.onResize.bind(Object(ne.a)(n),t),currTrans:n.props.currTrans,onSelect:n.onSelectNode})})),r.createElement(me,{links:o,nodes:a,selectedLinks:i,onContextMenu:n.onContextMenuLink,onSelectLink:n.onSelectLink,isDraggingLink:n.state.isDraggingLink,dragLink:n.state.dragLink})))},n.state={isDraggingNode:!1,isDraggingLink:!1,dragNode:null,dragLink:null,dragNodeOffset:null,menuDisplay:!1,menuPos:{id:"",x:0,y:0},screenScale:100,sourcePos:"",currentHoverNode:"",deleteVisible:!1},n.nodesContainerRef=r.createRef(),n.container=r.createRef(),n}return Object(ae.a)(t,e),Object($.a)(t,[{key:"componentDidMount",value:function(){this.nodesContainerRef.current.addEventListener("mousedown",this.onNodesContainerMouseDown),this.container.current.addEventListener("contextmenu",this.openContainerMenu),this.container.current.addEventListener("click",this.onContainerMouseDown)}},{key:"componentWillUnmount",value:function(){this.nodesContainerRef.current.removeEventListener("mousedown",this.onNodesContainerMouseDown),this.container.current.removeEventListener("contextmenu",this.openContainerMenu),this.container.current.removeEventListener("click",this.onContainerMouseDown)}},{key:"componentWillUpdate",value:function(e,t){this.state.isDraggingNode!==t.isDraggingNode&&this.toggleDragNode(t.isDraggingNode),this.state.isDraggingLink!==t.isDraggingLink&&this.toggleDragLink(t.isDraggingLink)}},{key:"onDrag",value:function(e,t){}},{key:"onDrop",value:function(e){var t=this.props,n=t.setNodes,a=t.nodes,o=t.dragNode,c=ge(this.container.current),i=c.offsetTop,s=c.offsetLeft,l=e.clientX-s,d=e.clientY-i,u=this.props.currTrans,m=u.k,f=u.x,b=u.y;if(o){var v={key:o.key,name:o.name,type:o.type,width:o.width,height:o.height,x:(l-f)/m-110,y:(d-b)/m-30,id:p.v4(),ref:r.createRef()};n([].concat(Object(g.a)(a),[v]))}}},{key:"render",value:function(){var e=this.state,t=e.deleteVisible,n=e.menuPos;return r.createElement("div",{className:"canvas-container-content",ref:this.container},r.createElement(re.ReScreen,{type:"DOM",getScreenHandler:this.getScreenHandler,needMinimap:!0,needRefresh:!0,zoomEnabled:!1,mapPosition:"RT-IN",mapWidth:200,mapHeight:300,mapRectStyle:{stroke:"#468CFF",fill:"transparent",strokeWidth:1.5},focusEnabled:2,onScreenChange:this.getTransformInfo,onDragOver:function(e){e.preventDefault()},onDrop:this.onDrop.bind(this)},this.renderCanvas()),r.createElement(ce,{visible:t,left:n.x,top:n.y},r.createElement(l.a,{getPopupContainer:function(e){return e.parentNode}},[{name:"\u5220\u9664",key:I.delete}].map((function(e){return r.createElement(l.a.Item,{key:e.key},e.name)})))))}}]),t}(r.Component);var ve=r.useState,pe=r.useEffect;function he(){var e=ve(),t=Object(i.a)(e,2),n=t[0],a=t[1],o=ve([]),c=Object(i.a)(o,2),s=c[0],l=c[1],d=ve([]),u=Object(i.a)(d,2),v=u[0],p=u[1],h=ve([]),S=Object(i.a)(h,2),y=S[0],N=S[1],x=ve([]),z=Object(i.a)(x,2),C=z[0],k=z[1],E=function(e,t){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),a=Object(i.a)(n,2),o=a[0],c=a[1];return[o,function(){var t=Object(f.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){try{var a=n instanceof Function?n(o):n;return c(a),window.localStorage.setItem(e,JSON.stringify(a)),t(!0)}catch(r){return console.log(r),t(!1)}})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]}("editorData",{id:"editorData-test"}),w=Object(i.a)(E,2),I=w[0],L=w[1],O=ve(null),M=Object(i.a)(O,2),D=M[0],j=M[1],R=ve(oe.a),P=Object(i.a)(R,2),T=P[0],W=P[1],A=ve([]),F=Object(i.a)(A,2),B=F[0],V=F[1];pe((function(){var e,t;a(I);var n=(null!==(e=null===I||void 0===I?void 0:I.nodes)&&void 0!==e?e:[]).map((function(e){return Object(b.a)({},e,{ref:r.createRef()})}));l(n),p(null!==(t=null===I||void 0===I?void 0:I.links)&&void 0!==t?t:[])}),[I]);var X=function(){var e=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=null!==s&&void 0!==s?s:[]).forEach((function(e){return delete e.ref})),e.next=4,L(Object(b.a)({},n,{nodes:t,links:v}));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{editorData:n,setEditorData:a,nodes:s,setNodes:l,links:v,setLinks:p,updateNodes:function(e){var t=s.findIndex((function(t){return t.id===e.id})),n=[].concat(Object(g.a)(s.slice(0,t)),[e],Object(g.a)(s.slice(t+1)));l(n)},updateLinks:function(e){var t=v.findIndex((function(t){return t.id===e.id})),n=[].concat(Object(g.a)(v.slice(0,t)),[e],Object(g.a)(v.slice(t+1)));p(n)},selectedLinks:y,setSelectedLinks:N,selectedNodes:C,setSelectedNodes:k,dragNode:D,setDragNode:j,copiedNodes:B,setCopiedNodes:V,currTrans:T,setCurrTrans:W,editorLocalData:I,setEditorLocalData:L,handleSaveData:X}}var Se={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},ye={esc:"Escape",tab:"Tab",enter:"Enter",space:" ",up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete"]},Ne={ctrl:function(e){return e.ctrlKey},shift:function(e){return e.shiftKey},alt:function(e){return e.altKey},meta:function(e){return e.metaKey}},xe=function(){};function ze(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()}function Ce(e,t){if("number"===ze(t))return e.keyCode===t;var n=t.split("."),a=0,r=!0,o=!1,c=void 0;try{for(var i,s=n[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value,d=Ne[l],u=ye[l],m=Se[l];(d&&d(e)||(u&&"array"===ze(u)?u.includes(e.key):u===e.key)||(m&&"array"===ze(m)?m.includes(e.keyCode):m===e.keyCode)||e.key.toUpperCase()===l.toUpperCase())&&a++}}catch(f){o=!0,c=f}finally{try{r||null==s.return||s.return()}finally{if(o)throw c}}return a===n.length}function ke(e){var t=ze(e);return"function"===t?e:"string"===t||"number"===t?function(t){return Ce(t,e)}:"array"===t?function(t){return e.some((function(e){return Ce(t,e)}))}:e?function(){return!0}:function(){return!1}}var Ee=["keydown"];function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xe,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.events,o=void 0===a?Ee:a,c=n.target,i=Object(r.useRef)(),s=Object(r.useRef)(t);s.current=t;var l=Object(r.useCallback)((function(t){if(ke(e)(t))return s.current(t)}),[e]);return Object(r.useEffect)((function(){var e="function"===typeof c?c():c,t=i.current||e||window,n=!0,a=!1,r=void 0;try{for(var s,d=o[Symbol.iterator]();!(n=(s=d.next()).done);n=!0){var u=s.value;t.addEventListener(u,l)}}catch(m){a=!0,r=m}finally{try{n||null==d.return||d.return()}finally{if(a)throw r}}return function(){var e=!0,n=!1,a=void 0;try{for(var r,c=o[Symbol.iterator]();!(e=(r=c.next()).done);e=!0){var i=r.value;t.removeEventListener(i,l)}}catch(m){n=!0,a=m}finally{try{e||null==c.return||c.return()}finally{if(n)throw a}}}}),[o,l,c]),i}function Ie(e,t,n){var a=Object(r.useRef)(),o=Object(r.useRef)();return Object(r.useEffect)((function(){o.current=t}),[t]),Object(r.useEffect)((function(){var t=n&&("function"===typeof n.dom?n.dom():n.dom),r=t||(a.current||window);if(r.addEventListener){var c=function(e){return o.current&&o.current(e)};return r.addEventListener(e,c,{capture:null===n||void 0===n?void 0:n.capture,once:null===n||void 0===n?void 0:n.once,passive:null===n||void 0===n?void 0:n.passive}),function(){r.removeEventListener(e,c,{capture:null===n||void 0===n?void 0:n.capture})}}}),[e,n,a.current]),a}n(531);var Le=r.useState,Oe=r.useRef;r.useEffect;function Me(e){var t=Le(100),n=Object(i.a)(t,2),a=n[0],o=n[1],c=Le(!1),s=Object(i.a)(c,2),l=s[0],d=s[1],u=Le(!1),h=Object(i.a)(u,2),S=h[0],y=h[1],N=he(),x=N.nodes,z=N.links,C=N.setNodes,k=N.setLinks,E=N.selectedLinks,w=N.setSelectedLinks,I=N.dragNode,L=N.setDragNode,O=N.selectedNodes,D=N.setSelectedNodes,j=N.updateNodes,R=N.updateLinks,T=N.copiedNodes,W=N.setCopiedNodes,A=N.currTrans,F=N.setCurrTrans,B=N.handleSaveData,V=Oe(null),X=Oe({getWrappedInstance:function(){return Object}}),U=X.current,q=function(e){if(e){var t=v.cloneDeep(z);e.forEach((function(e){v.remove(t,(function(t){return t.source===e||t.target===e}))})),k(t);var n=v.cloneDeep(x),a=v.remove(n,(function(t){return!e.includes(t.id)}));C(a),w([]),D([])}},H=function(e){if(e){var t=z.map((function(e){return e.id})),n=v.difference(t,e),a=n?n.map((function(e){return v.find(z,(function(t){return t.id===e}))})):[];k(a)}},Y=function(e){var t=e.map((function(e){return v.find(x,(function(t){return t.id===e}))}));W(t)},K=function(){O&&(Y(O),q(O))},G=function(){O&&Y(v.compact(O))},J=function(){T&&function(){if(T){console.log("copiedNodes",T);var e=T.map((function(e){return Object(b.a)({},e,{id:p.v4(),x:e.x+e.width+20,ref:r.createRef()})}));W(e),C([].concat(Object(g.a)(x),Object(g.a)(e)))}}()},Z=function(){O&&q(O),E&&H(E)},_=function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:e.sent?alert("\u4fdd\u5b58\u6210\u529f"):alert("\u4fdd\u5b58\u5931\u8d25");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();we("delete",(function(){Z()}),{events:["keydown","keyup"]});var $=navigator.platform.startsWith("Mac");we($?["meta.x"]:["ctrl.x"],(function(){K()})),we($?["meta.c"]:["ctrl.c"],(function(){G()})),we($?["meta.v"]:["ctrl.v"],(function(){J()})),Ie("keydown",(function(e){(navigator.platform.startsWith("Mac")?e.metaKey:e.ctrlKey)&&y(!0)}),U),Ie("keyup",(function(e){y(!1)}),U);var ee=r.createElement("div",null,r.createElement(P,{ref:V,screenScale:a,changeScreenScale:o,handleResizeTo:U&&U.handleResizeTo,items:["save","fullscreen","zoom","adapt","format","ratio","shear","copy","paste","delete","dragSelect","layout","adapt"],onCopy:G,onPaste:J,onDelete:Z,onShear:K,onDragSelect:function(){d(!l)},onSave:_,onLayout:U&&U.layout,onAdapt:U&&U.handleShowAll})),te=r.createElement("div",{className:"editor-nodePanel"},r.createElement(M,{onDrag:L})),ne=r.createElement("div",{className:"editor-canvas"},r.createElement(Q,{visible:l,getPopupContainer:function(){return document.querySelector(".editor-canvas")},overlayColor:"rgba(0,0,0,0.1)",selectorStyle:{fill:"transparent",strokeWidth:1,stroke:"#6ca0f5",strokeDasharray:"5 5"},onClose:function(e){var t=A.k,n=A.x,a=A.y,r=x.map((function(e){return{x:t*e.x+n+e.width/2*t,y:t*e.y+a+e.height/2*t,id:e.id}})),o=[];o="left"===e.direction?[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}]:[{x:e.x,y:e.y},{x:e.x-e.width,y:e.y},{x:e.x-e.width,y:e.y-e.height},{x:e.x,y:e.y-e.height}];var c=r.map((function(e){if("in"===function(e,t){for(var n=e.x,a=e.y,r=!1,o=0,c=t.length,i=c-1;o<c;i=o,o++){var s=t[o].x,l=t[o].y,d=t[i].x,u=t[i].y;if(s===n&&l===a||d===n&&u===a)return"on";if(l<a&&u>=a||l>=a&&u<a){var m=s+(a-l)*(d-s)/(u-l);if(m===n)return"on";m>n&&(r=!r)}}return r?"in":"out"}(e,o))return e.id}));D(c),d(!1)}}),r.createElement(be,{dragNode:I,ref:X,nodes:x,links:z,setNodes:C,setLinks:k,selectedLinks:E,setSelectedLinks:w,selectedNodes:O,setSelectedNodes:D,updateNodes:j,updateLinks:R,deleteNodes:q,deleteLinks:H,copiedNodes:T,setCopiedNodes:W,currTrans:A,setCurrTrans:F,isKeyPressing:S})),ae=r.createElement("div",{className:"editor-property"});return r.createElement("div",{className:"editor-demo",ref:V},r.createElement("div",{className:"editor-operation"},ee),r.createElement("div",{className:"editor-container"},te,ne,ae))}var De=Math.PI,je=Math.sin,Re=Math.cos,Pe=Math.atan2,Te=n(536),We=["B","KB","MB","GB","TB","PB","EB"];function Ae(e,t){switch(t){case"memory":return{numberValue:e/60/60/24/1024,unit:"GBU"};case"compute":var n=e/6e3;return n/1440<1?{numberValue:n,unit:"CM"}:n/144e4<1?{numberValue:n/1440,unit:"CU"}:n/144e4/1e3<1?{numberValue:n/144e4,unit:"KCU"}:{numberValue:n/144e4/1e3,unit:"MCU"};case"gpu":var a=e/6e3;return a/1440<1?{numberValue:a,unit:"GM"}:a/144e4<1?{numberValue:a/1440,unit:"GU"}:a/144e4/1e3<1?{numberValue:a/144e4,unit:"KGU"}:{numberValue:a/144e4/1e3,unit:"MGU"};case"storage":var r=Math.floor(Math.log2(e)/10),o=e/Math.pow(2,10*r);return r<0?{unit:We[0],numberValue:0}:{unit:We[r],numberValue:o};case"money":return e>1e8?{unit:"\u4ebf\u5143",numberValue:e/1e8}:e>1e4?{unit:"\u4e07\u5143",numberValue:e/1e4}:{unit:"\u5143",numberValue:e};case"number":return{unit:"\u5143",numberValue:e}}}var Fe=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(ee.a)(this,(e=Object(te.a)(t)).call.apply(e,[this].concat(r)))).svg=void 0,n.state={matrix:[],link:[],selectedNode:null,hoverNode:null},n.handleInitData=function(e){return e?e.map((function(e){return e.relatedCategories?{id:String(e.cateId),name:e.cateName,value:e.storageSize,siblings:n.handleInitData(e.relatedCategories)}:{id:String(e.cateId),name:e.cateName,value:e.storageSize}})):[]},n.restore=function(){n.setState({selectedNode:null})},n.handleCircleClick=function(e){n.setState({selectedNode:e})},n.resetCircleClick=function(){n.setState({selectedNode:null})},n.handleNodeMouseEnter=function(e){n.setState({hoverNode:e})},n.handelNodeMouseLeave=function(){n.setState({hoverNode:null})},n}return Object(ae.a)(t,e),Object($.a)(t,[{key:"generateGraph",value:function(e){var t=e.rowCount,n=e.margin,a=e.data,r=this.props.width-2*n,o=this.props.height-2*n,c=(v.minBy(a,(function(e){return e.storageSize}))||{storageSize:Math.pow(1024,1)}).storageSize,i=(v.maxBy(a,(function(e){return e.storageSize}))||{storageSize:Math.pow(1024,5)}).storageSize,s=this.handleInitData(a),l=new re.BaseLayout.Bubble({data:s,width:r,height:o,rowCount:t,minSize:c,maxSize:i}).graph(),d=l.nodes,u=l.links;this.setState({matrix:d,link:u})}},{key:"componentDidMount",value:function(){this.generateGraph(this.props),this.restore()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.data;v.isEqual(e.data,t)||(this.generateGraph(e),this.restore())}},{key:"getNodeReleation",value:function(e){if(e){var t=[e.id];return this.state.link.forEach((function(n){(n.u===e.id||n.v===e.id&&n.bothway)&&(-1===t.indexOf(n.u)&&t.push(n.u),-1===t.indexOf(n.v)&&t.push(n.v))})),t}return[]}},{key:"renderText",value:function(e){var t=e.center,n=e.node,a=.46*n.radius;return a<=9?r.createElement("g",{fill:"#fff"},r.createElement("text",{x:t.x,y:t.y+a/2,textAnchor:"middle",fontSize:a},n.cateName||"-")):r.createElement("g",{fill:"#fff"},r.createElement("text",{x:t.x,y:t.y,textAnchor:"middle",fontSize:a},n.name||"-"),a>=9&&r.createElement("text",{x:t.x,y:t.y+a,textAnchor:"middle",fontSize:"9"},function(e,t){"number"!==typeof e&&(e=0);var n=e<0?"-":"";e=Math.abs(e);var a="compute-core"===t?Ae(100*e,"compute"):Ae(e,t),r=a.unit,o=a.numberValue;return{unit:r,numberValue:o=n+Te.format(",")(Number(o.toFixed(2).toString())),value:o+r}}(n.value/1e5||0,"money").value))}},{key:"render",value:function(){var e=this,t=this.props,n=t.margin,a=t.data,o=t.rowCount,c=this.state,i=c.matrix,s=c.link,l=c.selectedNode,d=c.hoverNode,u=this.getNodeReleation(l),m=this.getNodeReleation(d),f=Math.ceil(a.length/o),g=S()("scene-center-legend",{"scene-center-legend-selected":null!==l});return r.createElement("div",{className:"bubble-container"},l&&r.createElement("span",{className:"icon-back",onClick:this.resetCircleClick.bind(this)},"Back"),r.createElement("div",{className:g},r.createElement("div",{className:"data-storage"},r.createElement("span",null,"\u8d44\u91d1\u91cf: "),r.createElement("div",{className:"small"}),r.createElement("span",null,"\u5c0f"),r.createElement("div",{className:"middle"}),r.createElement("span",null,"\u4e2d"),r.createElement("div",{className:"big"}),r.createElement("span",null,"\u5927")),l&&r.createElement("div",{className:"data-flow"},r.createElement("span",null,"\u7403\u5458\u4ea4\u6613\u8d44\u91d1\u6d41\u5411\uff1a"),r.createElement("svg",{className:"flow-arrow"},r.createElement("path",{d:"M0,13 100,13 100,8 105,13 100,18 100,13",fill:"#6ca0f51",stroke:"#6ca0f51"})))),r.createElement(re.ReScreen,{type:"DOM",height:600,width:850,needMinimap:!1,zoomEnabled:!0},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"bubble",ref:function(t){e.svg=t}},r.createElement("g",{className:"bubble-links",transform:"translate(".concat(n,", ").concat(n,")")},s.filter((function(e){return null===l||!!(e.u===l.id||e.v===l.id&&e.bothway)})).map((function(e,t){var n=e.start,a=e.end,o=e.control,c=e.u,i=(e.v,l||d&&(e.u===d.id||e.v===d.id&&e.bothway)?"#6ca0f5":"rgba(200,200,200)"),s=l||d&&(e.u===d.id||e.v===d.id&&e.bothway)?"1":"0.5",u=function(e,t){var n=[t.x-e.x,t.y-e.y],a=t.x-n[0],r=t.y-n[1],o=t.x,c=t.y,i=De/3,s=Pe(c-r,o-a),l=1*Re(s-=De),d=1*je(s),u=o+10*Re(s+i/2),m=c+10*je(s+i/2),f=o+10*Re(s-i/2),g=c+10*je(s-i/2);return"\n  M".concat(u-l,",").concat(m-d,"\n  ").concat(o-l,",").concat(c-d,"\n  ").concat(f-l,",").concat(g-d)}(o,l&&l.id===c?a:n);return r.createElement("g",{key:t},r.createElement("path",{d:"M".concat(n.x," ").concat(n.y,"  Q").concat(o.x," ").concat(o.y," ").concat(a.x," ").concat(a.y),stroke:i,strokeWidth:s,fill:"none"}),l&&r.createElement("path",{d:u,fill:i}))}))),r.createElement("g",{className:"bubble-nodes",transform:"translate(".concat(n,", ").concat(n,")")},i.filter((function(e){return null===l||u.indexOf(e.node.id)>-1})).map((function(t,n){var a=t.center,c=t.node,i=t.rowIndex,s=t.lineIndex,u=null===d||null!==l||m.indexOf(c.id)>-1?"#6ca0f5":"#5084d8";return l&&d&&d.id===c.id&&l.id!==c.id?(0===s?"right":s===f-1?"left":i<o/2?"bottom":"top",r.createElement("g",{onClick:e.handleCircleClick.bind(e,c),onMouseEnter:e.handleNodeMouseEnter.bind(e,c),onMouseLeave:e.handelNodeMouseLeave,key:n},r.createElement("circle",{cx:a.x,cy:a.y,r:c.radius,strokeWidth:"1",fill:u,key:n}),e.renderText(t))):r.createElement("g",{onClick:e.handleCircleClick.bind(e,c),onMouseEnter:e.handleNodeMouseEnter.bind(e,c),onMouseLeave:e.handelNodeMouseLeave,key:n},r.createElement("circle",{cx:a.x,cy:a.y,r:c.radius,strokeWidth:"1",fill:u,key:n}),e.renderText(t))}))))))}}]),t}(r.Component);Fe.defaultProps=new function e(){Object(N.a)(this,e),this.width=void 0,this.height=void 0,this.margin=0,this.data=void 0,this.rowCount=2};var Be=Fe,Ve=[{cateId:3e15,cateName:"NBA",relatedCategories:[{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:1367793868732,storageSize:0x3a308a449978e80,tableCount:8},{cateId:17e15,cateName:"\u706b\u7bad",scanSize:334177187491,storageSize:0x9f511fc8b48918,tableCount:20},{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:1113547,storageSize:0x9814553bcd9530,tableCount:8},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:57567969330988,storageSize:0x40b9cc29cd86040,tableCount:43}],storageSize:963439859462373},{cateId:7e15,cateName:"\u9e48\u9e55",storageSize:57509154527},{cateId:6e15,cateName:"\u516c\u725b",relatedCategories:[{cateId:16e15,cateName:"\u7070\u718a",scanSize:1482101627,storageSize:0x36b0849051b564,tableCount:2},{cateId:17e15,cateName:"\u706b\u7bad",scanSize:4717819052,storageSize:0x9f511fc8b48918,tableCount:2},{cateId:9e15,cateName:"\u96f7\u9706",scanSize:13587084553,storageSize:563046541624162,tableCount:9},{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:4717819052,storageSize:0x9814553bcd9530,tableCount:2},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:1540768110284,storageSize:0x40b9cc29cd86040,tableCount:13},{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:89173468354,storageSize:0x3a308a449978e80,tableCount:10}],storageSize:542349280162432},{cateId:14e15,cateName:"76\u4eba",relatedCategories:[{cateId:17e15,cateName:"\u706b\u7bad",scanSize:2362166,storageSize:0x9f511fc8b48918,tableCount:2},{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:2362166,storageSize:0x9814553bcd9530,tableCount:2},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:6387408179,storageSize:0x40b9cc29cd86040,tableCount:18},{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:1094723594,storageSize:0x3a308a449978e80,tableCount:10},{cateId:16e15,cateName:"\u7070\u718a",scanSize:505612912,storageSize:0x36b0849051b564,tableCount:3}],storageSize:914233051820},{cateId:5e15,cateName:"\u5f00\u62d3\u8005",relatedCategories:[{cateId:17e15,cateName:"\u706b\u7bad",scanSize:118229440,storageSize:0x9f511fc8b48918,tableCount:1},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:26385333209,storageSize:0x40b9cc29cd86040,tableCount:25},{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:1105572145,storageSize:0x3a308a449978e80,tableCount:9},{cateId:6e15,cateName:"\u516c\u725b",scanSize:7823517570,storageSize:542349280162432,tableCount:1},{cateId:9e15,cateName:"\u96f7\u9706",scanSize:11876065690,storageSize:563046541624162,tableCount:3},{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:118229440,storageSize:0x9814553bcd9530,tableCount:1}],storageSize:92738183291899},{cateId:12e15,cateName:"\u592a\u9633",relatedCategories:[{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:232681298881,storageSize:0x3a308a449978e80,tableCount:3},{cateId:17e15,cateName:"\u706b\u7bad",scanSize:0xf605627540,storageSize:0x9f511fc8b48918,tableCount:2},{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:0xf605627540,storageSize:0x9814553bcd9530,tableCount:2},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:621126159614,storageSize:0x40b9cc29cd86040,tableCount:38}],storageSize:0xa32fae436625},{cateId:18e15,cateName:"\u6e56\u4eba",relatedCategories:[{cateId:16e15,cateName:"\u7070\u718a",scanSize:34359550601322,storageSize:0x36b0849051b564,tableCount:81},{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:8346561954581,storageSize:0x3a308a449978e80,tableCount:151},{cateId:11e15,cateName:"\u96c4\u9e7f",scanSize:0xf11391f1cf,storageSize:0xc6be3600fcb1,tableCount:17},{cateId:1e15,cateName:"\u9b54\u672f",scanSize:46513653046,storageSize:0xd4484b19269,tableCount:4},{cateId:9e15,cateName:"\u96f7\u9706",scanSize:0x749ee3c01802,storageSize:563046541624162,tableCount:29},{cateId:13e15,cateName:"\u731b\u9f99",scanSize:295388,storageSize:22138368,tableCount:1},{cateId:14e15,cateName:"76\u4eba",scanSize:7606128,storageSize:914233051820,tableCount:10},{cateId:12e15,cateName:"\u592a\u9633",scanSize:8429017620715,storageSize:0xa32fae436625,tableCount:15},{cateId:6e15,cateName:"\u516c\u725b",scanSize:3686242556252,storageSize:542349280162432,tableCount:2},{cateId:17e15,cateName:"\u706b\u7bad",scanSize:415532088655766,storageSize:0x9f511fc8b48918,tableCount:1441},{cateId:1e16,cateName:"\u5c3c\u514b\u65af",scanSize:107712128625,storageSize:81672943809615,tableCount:14},{cateId:5e15,cateName:"\u5f00\u62d3\u8005",scanSize:7497807766539,storageSize:92738183291899,tableCount:7},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:0x89f97b2ced2a4,storageSize:0x40b9cc29cd86040,tableCount:659}],storageSize:0x9814553bcd9530},{cateId:1e16,cateName:"\u5c3c\u514b\u65af",relatedCategories:[{cateId:17e15,cateName:"\u706b\u7bad",scanSize:109464267,storageSize:0x9f511fc8b48918,tableCount:13},{cateId:5e15,cateName:"\u5f00\u62d3\u8005",scanSize:0,storageSize:92738183291899,tableCount:1},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:34673653492,storageSize:0x40b9cc29cd86040,tableCount:33},{cateId:11e15,cateName:"\u96c4\u9e7f",scanSize:110377705,storageSize:0xc6be3600fcb1,tableCount:7},{cateId:16e15,cateName:"\u7070\u718a",scanSize:5609745680,storageSize:0x36b0849051b564,tableCount:7},{cateId:1e15,cateName:"\u9b54\u672f",scanSize:502981937,storageSize:0xd4484b19269,tableCount:1},{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:29759060,storageSize:0x9814553bcd9530,tableCount:9},{cateId:9e15,cateName:"\u96f7\u9706",scanSize:5770880,storageSize:563046541624162,tableCount:4},{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:2211635311502,storageSize:0x3a308a449978e80,tableCount:34}],storageSize:81672943809615},{cateId:11e15,cateName:"\u96c4\u9e7f",relatedCategories:[{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:24877244832,storageSize:0x9814553bcd9530,tableCount:2},{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:0,storageSize:0x3a308a449978e80,tableCount:2},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:11670249,storageSize:0x40b9cc29cd86040,tableCount:287},{cateId:17e15,cateName:"\u706b\u7bad",scanSize:75030846462,storageSize:0x9f511fc8b48918,tableCount:234}],storageSize:0xc6be3600fcb1},{cateId:13e15,cateName:"\u731b\u9f99",relatedCategories:[{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:519208,storageSize:0x40b9cc29cd86040,tableCount:17}],storageSize:22138368},{cateId:9e15,cateName:"\u96f7\u9706",relatedCategories:[{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:317144818,storageSize:0x3a308a449978e80,tableCount:15},{cateId:16e15,cateName:"\u7070\u718a",scanSize:115673379088,storageSize:0x36b0849051b564,tableCount:9},{cateId:6e15,cateName:"\u516c\u725b",scanSize:24512856331,storageSize:542349280162432,tableCount:12},{cateId:12e15,cateName:"\u592a\u9633",scanSize:2536,storageSize:0xa32fae436625,tableCount:1},{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:32951642269,storageSize:0x9814553bcd9530,tableCount:11},{cateId:14e15,cateName:"76\u4eba",scanSize:1789246856,storageSize:914233051820,tableCount:1},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:109232109209,storageSize:0x40b9cc29cd86040,tableCount:35},{cateId:17e15,cateName:"\u706b\u7bad",scanSize:32951642269,storageSize:0x9f511fc8b48918,tableCount:11}],storageSize:563046541624162},{cateId:2e15,cateName:"\u52c7\u58eb",relatedCategories:[{cateId:9e15,cateName:"\u96f7\u9706",scanSize:311569654632459,storageSize:563046541624162,tableCount:133},{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:0x4de2d1142230f,storageSize:0x9814553bcd9530,tableCount:193},{cateId:12e15,cateName:"\u592a\u9633",scanSize:27678572995933,storageSize:0xa32fae436625,tableCount:44},{cateId:1e15,cateName:"\u9b54\u672f",scanSize:2337747213818,storageSize:0xd4484b19269,tableCount:31},{cateId:16e15,cateName:"\u7070\u718a",scanSize:596060064812479,storageSize:0x36b0849051b564,tableCount:100},{cateId:8e15,cateName:"\u5176\u4ed6",scanSize:23006,storageSize:9178016,tableCount:2},{cateId:11e15,cateName:"\u96c4\u9e7f",scanSize:0xaec49bcc6e9,storageSize:0xc6be3600fcb1,tableCount:26},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:0x25e74e5d5f1acc,storageSize:0x40b9cc29cd86040,tableCount:898},{cateId:3e15,cateName:"\u4eba\u5de5\u667a\u80fd",scanSize:90369529768,storageSize:963439859462373,tableCount:61},{cateId:6e15,cateName:"\u516c\u725b",scanSize:30599473746321,storageSize:542349280162432,tableCount:41},{cateId:14e15,cateName:"76\u4eba",scanSize:28574513987,storageSize:914233051820,tableCount:16},{cateId:17e15,cateName:"\u706b\u7bad",scanSize:0x53b4a95558690,storageSize:0x9f511fc8b48918,tableCount:278},{cateId:1e16,cateName:"\u5c3c\u514b\u65af",scanSize:74574273525848,storageSize:81672943809615,tableCount:57},{cateId:5e15,cateName:"\u5f00\u62d3\u8005",scanSize:48085112346085,storageSize:92738183291899,tableCount:19}],storageSize:0x3a308a449978e80},{cateId:17e15,cateName:"\u706b\u7bad",relatedCategories:[{cateId:1e16,cateName:"\u5c3c\u514b\u65af",scanSize:107712128625,storageSize:81672943809615,tableCount:14},{cateId:5e15,cateName:"\u5f00\u62d3\u8005",scanSize:7497807766539,storageSize:92738183291899,tableCount:7},{cateId:12e15,cateName:"\u592a\u9633",scanSize:8429017620715,storageSize:0xa32fae436625,tableCount:16},{cateId:6e15,cateName:"\u516c\u725b",scanSize:3686242556252,storageSize:542349280162432,tableCount:2},{cateId:3e15,cateName:"\u4eba\u5de5\u667a\u80fd",scanSize:334176073944,storageSize:963439859462373,tableCount:14},{cateId:13e15,cateName:"\u731b\u9f99",scanSize:295388,storageSize:22138368,tableCount:1},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:0x8dd8d595340c8,storageSize:0x40b9cc29cd86040,tableCount:1044},{cateId:9e15,cateName:"\u96f7\u9706",scanSize:0x749ee43cecd0,storageSize:563046541624162,tableCount:34},{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:412861007935556,storageSize:0x9814553bcd9530,tableCount:1451},{cateId:14e15,cateName:"76\u4eba",scanSize:7810880,storageSize:914233051820,tableCount:11},{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:19520827677710,storageSize:0x3a308a449978e80,tableCount:181},{cateId:16e15,cateName:"\u7070\u718a",scanSize:35511307423176,storageSize:0x36b0849051b564,tableCount:109},{cateId:11e15,cateName:"\u96c4\u9e7f",scanSize:1110779561092,storageSize:0xc6be3600fcb1,tableCount:325},{cateId:1e15,cateName:"\u9b54\u672f",scanSize:46513653046,storageSize:0xd4484b19269,tableCount:5}],storageSize:0x9f511fc8b48918},{cateId:16e15,cateName:"\u7070\u718a",relatedCategories:[{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:4439766670200,storageSize:0x9814553bcd9530,tableCount:169},{cateId:9e15,cateName:"\u96f7\u9706",scanSize:522378551074,storageSize:563046541624162,tableCount:3},{cateId:17e15,cateName:"\u706b\u7bad",scanSize:20884053418783,storageSize:0x9f511fc8b48918,tableCount:228},{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:2428171077839,storageSize:0x3a308a449978e80,tableCount:97},{cateId:11e15,cateName:"\u96c4\u9e7f",scanSize:3832217587224,storageSize:0xc6be3600fcb1,tableCount:38},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:383459072550706,storageSize:0x40b9cc29cd86040,tableCount:1422},{cateId:3e15,cateName:"\u4eba\u5de5\u667a\u80fd",scanSize:79410381019,storageSize:963439859462373,tableCount:5},{cateId:6e15,cateName:"\u516c\u725b",scanSize:43087814147,storageSize:542349280162432,tableCount:10},{cateId:12e15,cateName:"\u592a\u9633",scanSize:1714723480,storageSize:0xa32fae436625,tableCount:6},{cateId:14e15,cateName:"76\u4eba",scanSize:82722578248,storageSize:914233051820,tableCount:36},{cateId:1e16,cateName:"\u5c3c\u514b\u65af",scanSize:7159885883,storageSize:81672943809615,tableCount:18},{cateId:5e15,cateName:"\u5f00\u62d3\u8005",scanSize:39456385344,storageSize:92738183291899,tableCount:16}],storageSize:0x36b0849051b564},{cateId:1e15,cateName:"\u9b54\u672f",relatedCategories:[{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:55804081,storageSize:0x3a308a449978e80,tableCount:3},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:269038199923,storageSize:0x40b9cc29cd86040,tableCount:4}],storageSize:0xd4484b19269},{cateId:8e15,cateName:"\u5176\u4ed6",relatedCategories:[{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",scanSize:30296,storageSize:0x40b9cc29cd86040,tableCount:2}],storageSize:9178016},{cateId:15e15,cateName:"\u51ef\u5c14\u7279\u4eba",relatedCategories:[{cateId:13e15,cateName:"\u731b\u9f99",scanSize:10238990,storageSize:22138368,tableCount:3},{cateId:1e16,cateName:"\u5c3c\u514b\u65af",scanSize:4657600809363,storageSize:81672943809615,tableCount:124},{cateId:5e15,cateName:"\u5f00\u62d3\u8005",scanSize:44102385619098,storageSize:92738183291899,tableCount:86},{cateId:2e15,cateName:"\u52c7\u58eb",scanSize:485730999939449,storageSize:0x3a308a449978e80,tableCount:975},{cateId:11e15,cateName:"\u96c4\u9e7f",scanSize:3266523592016,storageSize:0xc6be3600fcb1,tableCount:109},{cateId:16e15,cateName:"\u7070\u718a",scanSize:528630552529526,storageSize:0x36b0849051b564,tableCount:840},{cateId:1e15,cateName:"\u9b54\u672f",scanSize:1346057824466,storageSize:0xd4484b19269,tableCount:6},{cateId:8e15,cateName:"\u5176\u4ed6",scanSize:1944872,storageSize:9178016,tableCount:1},{cateId:18e15,cateName:"\u6e56\u4eba",scanSize:4859351992743555,storageSize:0x9814553bcd9530,tableCount:1293},{cateId:9e15,cateName:"\u96f7\u9706",scanSize:0x6ce74917d7c4a,storageSize:563046541624162,tableCount:319},{cateId:3e15,cateName:"\u4eba\u5de5\u667a\u80fd",scanSize:2315822148231,storageSize:963439859462373,tableCount:110},{cateId:6e15,cateName:"\u516c\u725b",scanSize:0xf015921affc,storageSize:542349280162432,tableCount:13},{cateId:12e15,cateName:"\u592a\u9633",scanSize:0x65e705d5a439,storageSize:0xa32fae436625,tableCount:109},{cateId:17e15,cateName:"\u706b\u7bad",scanSize:4869105264862071,storageSize:0x9f511fc8b48918,tableCount:1590},{cateId:14e15,cateName:"76\u4eba",scanSize:255987874439,storageSize:914233051820,tableCount:27}],storageSize:0x40b9cc29cd86040}],Xe=(n(532),function(e){function t(){return Object(N.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object($.a)(t,[{key:"render",value:function(){return r.createElement("div",{className:"bubble-wrapper"},r.createElement(Be,{width:628,height:445,margin:60,data:Ve,rowCount:Math.ceil(Ve.length/4)}))}}]),t}(r.Component)),Ue=(n(533),r.useState),qe=r.useEffect,He=s.a.Header,Ye=s.a.Content;var Ke=document.getElementById("root");Object(o.render)(r.createElement(c.a,null,r.createElement((function(){var e=Ue("/"),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(d.f)();return qe((function(){var e=o.pathname;a(e)}),[o]),console.log("menuKey",n),r.createElement(s.a,{className:"layout"},r.createElement(He,null,r.createElement("div",{className:"logo"}),r.createElement(l.a,{theme:"dark",mode:"horizontal",selectedKeys:[n],style:{lineHeight:"64px"}},r.createElement(l.a.Item,{key:"/"},r.createElement(c.b,{to:"/"},"\u56fe\u7f16\u6392")),r.createElement(l.a.Item,{key:"/bubble"},r.createElement(c.b,{to:"/bubble"},"\u6c14\u6ce1\u56fe")))),r.createElement(Ye,null,r.createElement("div",{className:"site-layout-content"},r.createElement(d.c,null,r.createElement(d.a,{exact:!0,path:"/",component:Me}),r.createElement(d.a,{exact:!0,path:"/bubble",component:Xe})))))}),null)),Ke)}},[[269,1,2]]]);
//# sourceMappingURL=main.c5adea2d.chunk.js.map